# Snmp Time
time:
  - platform: sntp
    id: sntp_time
    timezone: Europe/London
    servers:
     - 0.pool.ntp.org
     - 1.pool.ntp.org
     - 2.pool.ntp.org
    on_time_sync:
      - script.execute: time_update
    on_time:
      - minutes: '*'
        seconds: 0
        then:
          - script.execute: time_update

# Clock
script:
  - id: time_update
    then:
      - lambda: |-
          auto now = id(sntp_time).now();
          static char time_str[6];
          snprintf(time_str, sizeof(time_str), "%02d:%02d", now.hour, now.minute);
          id(display_time).set_text(time_str);